import streamlit as st
import time

# 16가지 MBTI 설명 (성격 + 연애 가치관 각각 3줄 이상)
mbti_descriptions = {
    "INTJ": {
        "title": "전략가 (INTJ)",
        "personality": """INTJ는 독립적이고 분석적인 사고를 바탕으로 계획을 세우고 실행하는 데 탁월합니다.
비전을 세우는 데 능하며, 장기적인 목표에 집중하고 복잡한 문제 해결을 즐깁니다.
감정보다는 논리와 효율성을 중시하며 혼자 있는 시간을 통해 재충전합니다.""",
        "love": """연애에서 감정보다는 논리적 호환성과 미래 비전을 중요시합니다.
마음을 쉽게 열지 않지만, 진심으로 신뢰할 수 있는 사람에게는 깊이 헌신합니다.
로맨틱한 표현은 서툴 수 있으나, 실질적인 행동으로 애정을 나타냅니다.""",
    },
    "INTP": {
        "title": "논리술사 (INTP)",
        "personality": """INTP는 논리적 사고와 아이디어 탐구에 열정을 가진 분석가입니다.
복잡한 개념과 이론을 탐구하는 데 몰두하며, 독창적인 사고를 자랑합니다.
외부보다는 내면의 세계에 집중하고 독립적인 활동을 선호합니다.""",
        "love": """연애에서 깊은 대화를 나누며 지적 호기심을 자극하는 상대에게 끌립니다.
감정보다는 진정성과 이해를 중요하게 생각하며, 관계에 신중한 편입니다.
자유를 존중받고 싶어하며, 지나친 감정 표현에는 부담을 느낄 수 있습니다.""",
    },
    "ENTJ": {
        "title": "통솔자 (ENTJ)",
        "personality": """ENTJ는 리더십과 전략적 사고가 뛰어나며, 목표 달성을 위해 계획적으로 행동합니다.
효율과 성과를 중시하고 문제 해결 능력이 뛰어나며 책임감이 강한 성격입니다.
직설적이고 단호한 커뮤니케이션을 선호하며, 경쟁적인 환경에서 빛납니다.""",
        "love": """연애에서도 주도적인 태도를 보이며, 열정적이고 확신 있는 관계를 추구합니다.
상대방이 독립적이고 지적인 사람일수록 매력을 느낍니다.
사랑을 표현할 때도 실용적이고 행동 중심적인 경향이 있습니다.""",
    },
    "ENTP": {
        "title": "변론가 (ENTP)",
        "personality": """ENTP는 에너지가 넘치고 창의적인 사고를 즐기며, 토론과 아이디어 교류를 좋아합니다.
새로운 가능성을 탐색하고 도전을 두려워하지 않으며, 지루한 반복을 싫어합니다.
융통성과 유머 감각이 뛰어나며 주변에 활기를 불어넣는 타입입니다.""",
        "love": """연애에서 지적 대화를 즐기고, 새롭고 특별한 경험을 함께 하기를 원합니다.
즉흥적인 이벤트나 놀람을 즐기며, 상대방과의 유쾌한 분위기를 중시합니다.
감정 표현에 능하며 유연한 관계를 선호하지만, 깊은 감정에도 헌신할 수 있습니다.""",
    },
    "INFJ": {
        "title": "옹호자 (INFJ)",
        "personality": """INFJ는 깊은 통찰력과 직관을 바탕으로 조용하지만 강한 신념을 가진 사람입니다.
타인의 감정을 잘 이해하고 공감하며, 도덕적 가치와 의미 있는 목표를 중시합니다.
소수의 깊은 관계를 선호하며 진정성 있는 소통을 중요시합니다.""",
        "love": """연애에서 진심 어린 연결과 감정적 교감을 중요하게 생각합니다.
겉으로는 조용해 보이지만 사랑에 있어서는 깊고 강한 헌신을 보여줍니다.
상대방의 마음을 잘 헤아리며, 안정적이고 의미 있는 관계를 추구합니다.""",
    },
    "INFP": {
        "title": "중재자 (INFP)",
        "personality": """INFP는 내면의 이상과 가치를 따르며, 따뜻하고 창의적인 성격을 지녔습니다.
자신과 타인에게 진실되기를 원하며, 감성적이고 사려 깊은 사람입니다.
현실보다는 가능성과 상상력에 더 매력을 느끼는 경향이 있습니다.""",
        "love": """연애에서 감정의 깊이와 진정성을 가장 중요하게 생각합니다.
로맨틱하고 낭만적인 관계를 꿈꾸며, 이상적인 사랑을 추구합니다.
자신을 온전히 이해해 줄 사람에게 헌신하며, 섬세한 감정을 나누기를 원합니다.""",
    },
    "ENFJ": {
        "title": "선도자 (ENFJ)",
        "personality": """ENFJ는 사람들을 이끄는 데 탁월한 카리스마를 가진 타고난 지도자입니다.
타인을 돕고자 하는 욕구가 강하며, 정서적으로 따뜻하고 배려 깊습니다.
공감 능력이 뛰어나고 협력을 통해 긍정적인 변화를 추구합니다.""",
        "love": """연애에서는 깊은 헌신과 정서적 교감을 중시하며, 파트너를 배려하는 태도가 강합니다.
사랑하는 사람의 행복을 위해 최선을 다하고자 하며 감정 표현에도 적극적입니다.
상대방과의 조화를 중요하게 생각하며 따뜻하고 안정적인 관계를 선호합니다.""",
    },
    "ENFP": {
        "title": "활동가 (ENFP)",
        "personality": """ENFP는 열정적이고 상상력이 풍부하며 사람들과의 교류를 즐깁니다.
새로운 경험과 모험을 사랑하고, 틀에 얽매이지 않는 자유로운 사고를 지녔습니다.
감정 표현이 풍부하고 창의적인 접근을 선호합니다.""",
        "love": """연애에서 감정을 솔직하게 표현하며, 사랑에 있어 열정과 설렘을 중요시합니다.
상대방과 함께 새로운 것을 탐험하고 진정한 유대감을 느끼기를 원합니다.
지루한 일상보다는 다양하고 감동적인 관계를 추구합니다.""",
    },
    "ISTJ": {
        "title": "현실주의자 (ISTJ)",
        "personality": """ISTJ는 책임감 있고 신중하며 체계적인 성향을 지녔습니다.
전통과 규칙을 중시하고 안정적인 삶을 추구하며, 성실하고 실용적인 태도를 보입니다.
감정보다는 사실과 논리를 바탕으로 행동합니다.""",
        "love": """연애에서 신뢰와 책임감을 가장 중요하게 생각합니다.
자주 표현은 하지 않지만, 행동으로 헌신을 보여주며 안정적인 관계를 중시합니다.
한 번 결정한 관계에는 오래도록 충실하며, 실질적인 지원을 아끼지 않습니다.""",
    },
    "ISFJ": {
        "title": "수호자 (ISFJ)",
        "personality": """ISFJ는 조용하고 친절하며 타인의 요구를 민감하게 파악하는 성격입니다.
섬세하고 배려심이 깊어 주변 사람들을 잘 챙기며 헌신적인 태도를 보입니다.
안정성과 전통을 중시하며, 실용적인 방식으로 주변을 도와줍니다.""",
        "love": """연애에서 상대를 돌보려는 마음이 강하고, 깊은 애정을 행동으로 표현합니다.
상대방의 행복을 최우선으로 생각하며, 신뢰를 쌓아가는 관계를 선호합니다.
자신을 드러내기보다는 조용히 배려하는 방식으로 사랑을 표현합니다.""",
    },
    "ESTJ": {
        "title": "경영자 (ESTJ)",
        "personality": """ESTJ는 조직적이고 현실적인 성향으로, 강한 책임감을 지니고 있습니다.
일의 진행과 효율을 중요시하며, 규칙과 구조를 잘 따릅니다.
리더십이 강하고, 체계적으로 문제를 해결하는 데 능숙합니다.""",
        "love": """연애에서도 신뢰와 책임을 중요시하며, 안정적인 관계를 선호합니다.
감정보다는 실질적인 도움과 행동을 통해 사랑을 표현합니다.
상대가 논리적이고 현실적인 태도를 보일수록 더 큰 안정감을 느낍니다.""",
    },
    "ESFJ": {
        "title": "집정관 (ESFJ)",
        "personality": """ESFJ는 사교적이며 타인의 감정에 민감하게 반응하는 유형입니다.
조화를 중시하고 친절하며, 공동체 내에서 조정자 역할을 잘 해냅니다.
주변 사람들에게 따뜻함과 안정을 제공하는 데 관심이 많습니다.""",
        "love": """연애에서 감정적으로 헌신적이며, 사랑하는 사람을 돌보는 데 기쁨을 느낍니다.
상대의 필요를 먼저 고려하며, 따뜻한 분위기를 유지하려고 노력합니다.
지속적이고 안정된 관계에서 진심을 다해 애정을 표현합니다.""",
    },
    "ISTP": {
        "title": "장인 (ISTP)",
        "personality": """ISTP는 논리적이면서도 실용적인 문제 해결에 강한 분석가입니다.
조용하고 관찰력이 뛰어나며, 필요한 순간에 효율적으로 행동합니다.
융통성이 있으며 감정보다는 사실과 행동을 중시합니다.""",
        "love": """연애에서는 감정을 드러내기보다는 행동으로 표현하는 경향이 강합니다.
상대의 자율성을 존중하며, 너무 감정적인 관계에는 부담을 느낄 수 있습니다.
함께 활동하거나 취미를 공유하며 자연스럽게 애정을 쌓아갑니다.""",
    },
    "ISFP": {
        "title": "모험가 (ISFP)",
        "personality": """ISFP는 감성적이고 따뜻한 마음을 지닌 자유로운 영혼입니다.
예술적이고 감각적인 면이 뛰어나며, 조용하지만 진심을 다하는 태도를 보입니다.
현재의 순간을 소중히 여기며, 강요받는 것을 싫어합니다.""",
        "love": """연애에서 감성적 교감을 중요시하며, 상대와 함께하는 평화로운 시간을 즐깁니다.
표현은 조용하지만 애정이 깊고, 상대방의 기분에 민감하게 반응합니다.
감정적으로 안정적인 관계를 선호하며, 서로의 공간을 존중합니다.""",
    },
    "ESTP": {
        "title": "사업가 (ESTP)",
        "personality": """ESTP는 에너지 넘치고 현실적인 감각이 뛰어나며, 즉흥적이고 도전적인 성격입니다.
새로운 자극과 빠른 결정을 선호하며, 사람들과의 상호작용을 즐깁니다.
위기 상황에서도 침착하게 대처하는 유연함이 특징입니다.""",
        "love": """연애에서 적극적이고 솔직한 태도로 감정을 표현합니다.
즉흥적인 데이트와 활동을 좋아하며, 지루한 관계를 피하려 합니다.
상대방에게 즐거움과 활력을 주며, 감정 표현에 거리낌이 없습니다.""",
    },
    "ESFP": {
        "title": "연예인 (ESFP)",
        "personality": """ESFP는 사교적이고 따뜻하며, 즐거움과 사람들과의 교류를 중시합니다.
감각적이고 현실적인 감각이 뛰어나며, 즉흥적으로 삶을 즐기는 성향입니다.
자기 표현에 능하고 주변에 활기를 주는 분위기 메이커입니다.""",
        "love": """연애에서 애정 표현이 풍부하며, 감정적으로 가까운 관계를 선호합니다.
낭만적이고 재미있는 데이트를 즐기며, 상대방의 반응에 민감하게 반응합니다.
현재의 감정을 소중히 여기며, 사랑을 통해 삶의 활력을 얻습니다.""",
    }
}

# Streamlit 설정
st.set_page_config(page_title="MBTI 성격 & 연애 가치관 분석기", layout="centered")
st.markdown("<h1 style='text-align: center; color: #6c63ff;'>✨ MBTI 분석 웹앱 ✨</h1>", unsafe_allow_html=True)
st.markdown("### 당신의 MBTI를 입력하세요! (예: INFP, ESTJ)")

user_input = st.text_input("MBTI 입력", max_chars=4).upper().strip()

if user_input:
    if user_input in mbti_descriptions:
        with st.spinner("당신의 MBTI 성격을 분석 중입니다... 🔍"):
            time.sleep(1.5)
        st.balloons()
        data = mbti_descriptions[user_input]
        st.markdown(f"## 🧠 성격 유형: **{data['title']}**")
        st.markdown("### ✔️ 성격 특성")
        st.markdown(data["personality"])
        st.markdown("---")
        st.markdown("### 💖 연애 가치관")
        st.markdown(data["love"])
        st.success("자신의 MBTI를 이해하면 더 좋은 인간관계를 만들 수 있어요 😊")
    else:
        st.error("올바른 MBTI 유형을 입력하세요 (예: INFP, ESTJ 등).")

with st.expander("💡 MBTI란 무엇인가요?"):
    st.markdown("""
        MBTI는 사람의 성격을 16가지 유형으로 분류한 성격 유형 지표입니다.  
        네 가지 차원으로 구성됩니다:
        - **외향(E)/내향(I)**  
        - **감각(S)/직관(N)**  
        - **사고(T)/감정(F)**  
        - **판단(J)/인식(P)**  
        
        MBTI를 알면 자신과 타인을 더 잘 이해할 수 있어요! 😊
    """)
