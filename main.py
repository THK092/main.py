import streamlit as st
import time

# 모든 MBTI 유형에 대한 상세 데이터
mbti_data = {
    "INTJ": {
        "title": "전략가 (INTJ)",
        "personality": """독립적이고 분석적인 성향으로, 미래를 계획하고 전략을 세우는 데 능숙합니다.
복잡한 문제 해결을 즐기며 논리적인 사고를 중시합니다.
내향적이지만 목표 지향적이고 자기주도적인 리더십을 발휘할 수 있습니다.""",
        "love": """감정보다 이성적인 연애를 선호하며, 깊은 신뢰가 쌓일 때 진심을 드러냅니다.
표현은 서툴지만 헌신적이고 실질적인 방식으로 사랑을 전달합니다.
연애에서도 개인의 성장과 목표를 중시합니다.""",
        "jobs": ["전략 기획가", "데이터 과학자", "시스템 분석가"],
        "celebrities": ["엘론 머스크", "크리스토퍼 놀란"]
    },
    "INTP": {
        "title": "논리술사 (INTP)",
        "personality": """호기심이 많고 창의적인 사색가로, 논리와 이론을 통해 세상을 이해하려 합니다.
추상적인 개념과 시스템에 강한 흥미를 가지며, 새로운 아이디어 생성에 능합니다.
독립성이 강하고, 자기만의 방식으로 문제를 해결하려는 경향이 있습니다.""",
        "love": """연애에서 감정보다는 지적 교류를 중요시합니다.
감정을 직접적으로 표현하는 데는 익숙하지 않지만 진정성 있는 관계를 원합니다.
개인의 공간과 자유를 존중해주는 연애를 선호합니다.""",
        "jobs": ["연구원", "소프트웨어 개발자", "철학자"],
        "celebrities": ["알버트 아인슈타인", "빌 게이츠"]
    },
    "ENTJ": {
        "title": "통솔자 (ENTJ)",
        "personality": """결단력 있고 목표 지향적인 성격으로 리더십이 뛰어납니다.
효율성과 생산성을 중요시하며 체계적인 계획을 세워 실행에 옮깁니다.
도전을 두려워하지 않으며 논리적인 접근으로 문제를 해결합니다.""",
        "love": """연애에서도 주도적인 태도를 보이며, 열정적으로 관계를 리드합니다.
상대방이 지적이고 독립적일수록 매력을 느낍니다.
사랑을 실용적이고 계획적인 방식으로 표현하는 경향이 있습니다.""",
        "jobs": ["경영 컨설턴트", "변호사", "CEO"],
        "celebrities": ["마가렛 대처", "고든 램지"]
    },
    "ENTP": {
        "title": "변론가 (ENTP)",
        "personality": """창의적이고 에너지가 넘치며 토론을 즐기는 성격입니다.
새로운 아이디어와 도전을 즐기고, 문제 해결에 있어서 유연한 접근을 취합니다.
단조로움을 싫어하고 끊임없이 새로운 것을 시도하려는 욕구가 강합니다.""",
        "love": """지적인 대화와 재미있는 소통을 통해 사랑을 나누는 것을 선호합니다.
자유로운 연애를 원하며 얽매이는 것을 싫어합니다.
감정보다 관계의 동적이고 도전적인 측면에 끌립니다.""",
        "jobs": ["광고 기획자", "기술 창업가", "정치 전략가"],
        "celebrities": ["로버트 다우니 주니어", "마크 트웨인"]
    },
    "INFJ": {
        "title": "옹호자 (INFJ)",
        "personality": """이상주의적이고 깊이 있는 사고를 지닌 조용한 사색가입니다.
다른 사람들의 감정을 잘 이해하며, 의미 있는 목적에 헌신하려는 성향이 강합니다.
창의성과 직관력이 뛰어나며 비전을 제시하는 데 능숙합니다.""",
        "love": """감정적으로 깊은 유대감을 중요시하며, 진심이 담긴 관계를 추구합니다.
연애를 통해 서로의 내면을 이해하고 성장하는 것을 원합니다.
자신의 감정을 솔직하게 나누는 데 시간이 걸릴 수 있지만, 일단 헌신하면 깊은 사랑을 보여줍니다.""",
        "jobs": ["상담가", "작가", "인권 활동가"],
        "celebrities": ["마틴 루터 킹 주니어", "니콜 키드먼"]
    },
    "INFP": {
        "title": "중재자 (INFP)",
        "personality": """이상과 가치에 충실하며, 내면의 세계가 풍부한 이상주의자입니다.
자신의 신념과 철학을 중심으로 세상을 바라보며 진정성을 중시합니다.
다른 사람을 돕고 싶어 하는 성향이 강하며, 창의적인 활동에 몰입합니다.""",
        "love": """감성적이고 깊이 있는 사랑을 추구하며, 진심 어린 관계에 의미를 둡니다.
이해와 공감을 중요시하며, 표현이 섬세하고 낭만적입니다.
자신의 감정을 솔직하게 표현하는 데 시간이 필요하지만, 헌신적입니다.""",
        "jobs": ["예술가", "심리학자", "소설가"],
        "celebrities": ["윌리엄 셰익스피어", "오드리 햅번"]
    },
    "ENFJ": {
        "title": "선도자 (ENFJ)",
        "personality": """사람들과 깊이 연결되고, 다른 사람을 돕는 데 큰 만족을 느낍니다.
카리스마 있고 사교적이며, 타인의 성장과 행복을 이끄는 데 열정적입니다.
강한 공감 능력과 조직적인 사고를 함께 갖춘 천부적인 리더입니다.""",
        "love": """상대를 진심으로 배려하며 따뜻하고 깊이 있는 관계를 만들어갑니다.
연애에서의 갈등도 서로의 입장을 이해하려 노력합니다.
사랑을 아낌없이 표현하고, 헌신적인 연인을 지향합니다.""",
        "jobs": ["교육자", "사회복지사", "기업 트레이너"],
        "celebrities": ["바락 오바마", "오프라 윈프리"]
    },
    "ENFP": {
        "title": "활동가 (ENFP)",
        "personality": """열정적이고 창의적이며 사교성이 뛰어난 성격입니다.
새로운 경험을 좋아하며, 삶의 가능성을 탐색하는 데 큰 흥미를 느낍니다.
감정이 풍부하고 다른 사람과 쉽게 친밀감을 형성합니다.""",
        "love": """자유로운 분위기에서 감정적으로 풍부한 연애를 선호합니다.
감정을 솔직하게 표현하고, 상대방과 깊은 유대감을 형성하려 합니다.
새로움과 모험을 함께할 수 있는 파트너를 찾습니다.""",
        "jobs": ["마케터", "기획자", "공연 예술가"],
        "celebrities": ["로빈 윌리엄스", "에드 시런"]
    },
    "ISTJ": {
        "title": "현실주의자 (ISTJ)",
        "personality": """신중하고 책임감이 강하며 실용적인 사고를 중시합니다.
규칙과 질서를 중요하게 생각하고 체계적인 환경에서 최고의 능력을 발휘합니다.
약속을 잘 지키며 조직 내에서 신뢰받는 인물입니다.""",
        "love": """안정감 있는 관계를 선호하며, 연애에서도 책임감을 가지고 임합니다.
감정보다 행동으로 사랑을 표현하며, 헌신적이고 신뢰할 수 있는 연인입니다.
변화보다는 예측 가능하고 안정된 관계를 중시합니다.""",
        "jobs": ["회계사", "경영 관리자", "공무원"],
        "celebrities": ["조지 워싱턴", "나탈리 포트만"]
    },
    "ISFJ": {
        "title": "수호자 (ISFJ)",
        "personality": """조용하고 따뜻하며, 타인을 돕고자 하는 성향이 강합니다.
성실하고 헌신적인 자세로 가족, 친구, 동료를 배려합니다.
세심하고 현실적인 문제 해결 능력을 갖추고 있습니다.""",
        "love": """배려심 많고 충실한 연애를 추구하며, 상대방의 필요를 세심하게 챙깁니다.
연인의 행복을 자신의 행복처럼 여깁니다.
자기표현은 조심스럽지만 마음을 열면 깊은 사랑을 나눕니다.""",
        "jobs": ["간호사", "교사", "사회복지사"],
        "celebrities": ["비욘세", "케이트 미들턴"]
    },
    "ESTJ": {
        "title": "경영자 (ESTJ)",
        "personality": """조직적이고 실용적인 사고로 강력한 리더십을 발휘합니다.
책임감이 강하고 현실적인 목표를 추구하며 일관된 방식을 선호합니다.
결단력 있고 규칙을 중시하는 성격입니다.""",
        "love": """연애에서도 책임감을 가지고 주도적인 역할을 합니다.
실용적인 사랑을 지향하며, 안정된 관계를 중시합니다.
감정보다는 행동과 헌신으로 사랑을 표현합니다.""",
        "jobs": ["경영 관리자", "판사", "군 간부"],
        "celebrities": ["미셸 오바마", "존 F. 케네디"]
    },
    "ESFJ": {
        "title": "친선도모자 (ESFJ)",
        "personality": """따뜻하고 사교적인 성격으로 타인과의 관계를 중시합니다.
책임감이 강하며 사회적 조화를 추구하고 집단 내에서 분위기 메이커 역할을 합니다.
예의 바르고 성실한 태도를 중요시합니다.""",
        "love": """사랑을 적극적으로 표현하고, 관계에 많은 시간과 에너지를 쏟습니다.
상대방을 잘 챙기며 헌신적인 연애를 지향합니다.
감정의 교류를 매우 중요하게 생각합니다.""",
        "jobs": ["초등교사", "이벤트 플래너", "간호 관리자"],
        "celebrities": ["테일러 스위프트", "휴 그랜트"]
    },
    "ISTP": {
        "title": "장인 (ISTP)",
        "personality": """논리적이고 실용적인 문제 해결 능력이 뛰어나며, 도구나 기술을 다루는 데 능숙합니다.
혼자 있는 시간을 즐기며 현실적인 방식으로 주변을 탐색합니다.
자유로운 환경에서 독립적으로 일하는 것을 선호합니다.""",
        "love": """감정 표현은 적지만, 행동으로 사랑을 전달합니다.
자유로운 연애를 선호하며 지나치게 감정적인 상황은 피하려 합니다.
상대의 자율성과 개인 공간을 존중합니다.""",
        "jobs": ["기계공", "응급 구조사", "파일럿"],
        "celebrities": ["클린트 이스트우드", "브루스 리"]
    },
    "ISFP": {
        "title": "모험가 (ISFP)",
        "personality": """예술적이고 감성적인 면이 강하며 조용하고 따뜻한 성격입니다.
현재의 경험을 소중히 여기고, 감각적인 아름다움에 민감합니다.
자율성과 조화를 중시하고, 주변 사람들에게 부드럽게 다가갑니다.""",
        "love": """따뜻하고 부드러운 사랑을 추구하며, 감정의 깊이를 중시합니다.
자신의 감정을 솔직하게 표현하는 데 시간이 걸리지만 매우 진심 어린 애정을 보입니다.
강요 없는 자연스러운 관계를 선호합니다.""",
        "jobs": ["플로리스트", "포토그래퍼", "디자이너"],
        "celebrities": ["마이클 잭슨", "브리트니 스피어스"]
    },
    "ESTP": {
        "title": "사업가 (ESTP)",
        "personality": """에너지가 넘치고 현실적이며 문제 해결을 빠르게 하는 데 능합니다.
즉흥적이고 도전적인 상황을 즐기며 사회적인 매력이 강합니다.
새로운 경험과 자극을 선호하는 모험가입니다.""",
        "love": """직설적이고 솔직하게 감정을 표현하며, 연애에서도 열정적입니다.
현재의 즐거움을 중시하며 상대와 함께 활동적인 시간을 보내는 것을 좋아합니다.
감정보다 행동으로 자신의 마음을 표현합니다.""",
        "jobs": ["영업 전문가", "기획자", "프로 운동선수"],
        "celebrities": ["어니스트 헤밍웨이", "마돈나"]
    },
    "ESFP": {
        "title": "연예인 (ESFP)",
        "personality": """사교적이고 낙천적이며 사람들과 함께하는 것을 즐깁니다.
즉흥적이며 에너지가 넘치고, 주변을 밝게 만드는 존재입니다.
감각적이고 현실적인 성향을 가지고 있어 현재를 즐기려는 경향이 있습니다.""",
        "love": """사랑을 아낌없이 표현하며, 연애에서도 상대방과 즐거운 시간을 보내고 싶어합니다.
감정 표현이 풍부하고 로맨틱한 분위기를 좋아합니다.
상대방과 함께 있는 것 자체에 큰 만족을 느낍니다.""",
        "jobs": ["배우", "이벤트 매니저", "패션 스타일리스트"],
        "celebrities": ["마일리 사이러스", "엘튼 존"]
    },
}

# Streamlit 앱 UI
st.set_page_config(page_title="MBTI 분석기", layout="centered")
st.title("🌟 MBTI 분석 웹앱")
st.markdown("당신의 MBTI를 입력하면 성격, 연애 가치관, 추천 직업, 유명인을 알려드립니다!")

user_input = st.text_input("MBTI 유형 입력 (예: INFP)").upper().strip()

if user_input:
    if user_input in mbti_data:
        with st.spinner("분석 중입니다..."):
            time.sleep(1)
        st.success(f"{user_input} 유형 분석 결과")
        data = mbti_data[user_input]
        st.markdown(f"### 🧠 성격: **{data['title']}**")
        st.markdown(data["personality"])
        st.markdown("---")
        st.markdown("### 💕 연애 가치관")
        st.markdown(data["love"])
        st.markdown("---")
        st.markdown("### 💼 추천 직업")
        for job in data["jobs"]:
            st.markdown(f"- {job}")
        st.markdown("---")
        st.markdown("### 🌟 동일 MBTI 유명인")
        for celeb in data["celebrities"]:
            st.markdown(f"- {celeb}")
    else:
        st.error("정확한 MBTI 4문자를 입력해주세요 (예: INFP, ESTJ 등)")
